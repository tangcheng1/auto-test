{"name": "test_admin_wallet_add[caseinfo1]", "status": "broken", "statusDetails": {"message": "UnicodeEncodeError: 'latin-1' codec can't encode characters in position 50-52: Body ('郑上荔') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.", "trace": "caseinfo = {'name': 'admin新增加客户--充值金额actualAmt为负数', 'request': {'headers': {'Content-Type': 'application/json', 'User-Agent': 'Mo...0, 'couponAmt': 2, 'nickName': '$updatenickName', 'remark': 'fffffffffff', ...}, 'path': '/api/admin/wallet/add', ...}}\n\n    @allure.story('admin新增客户')\n    @pytest.mark.parametrize(\"caseinfo\", YamlUtil().yaml_read(\"data_yaml\", \"admin_wallet_add.yaml\"))\n    def test_admin_wallet_add(caseinfo):\n        # 获取ymal\n        value = caseinfo['request']\n        # 主动替换yaml中想要替换的变量\n        list = [{'updatenickName': random_name()}, {'PhoneMain': random_phone()}]\n        for i in list:\n            pr = YamlUtil.data_update_params(value, i)\n            value = pr\n        # 读取extract.yaml文件，替换掉yaml中需要参数化的变量，\n        yaml_data = YamlUtil.extractdata_render_params(value)\n        validate = value[\"validate\"] if \"validate\" in value else None\n>       response = Utils.sendRequest(caseinfo['name'], yaml_data['method'], yaml_data['path'], yaml_data['params'],\n                                     yaml_data['headers'])\n\ntest_case/test_admin/admin_wallet_add_test.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntools/base_requests.py:33: in sendRequest\n    rep = request(method=method, url=url, data=data, headers=headers, **kwargs)\nvenv/lib/python3.8/site-packages/requests/api.py:61: in request\n    return session.request(method=method, url=url, **kwargs)\nvenv/lib/python3.8/site-packages/requests/sessions.py:530: in request\n    resp = self.send(prep, **send_kwargs)\nvenv/lib/python3.8/site-packages/requests/sessions.py:643: in send\n    r = adapter.send(request, **kwargs)\nvenv/lib/python3.8/site-packages/requests/adapters.py:439: in send\n    resp = conn.urlopen(\nvenv/lib/python3.8/site-packages/urllib3/connectionpool.py:670: in urlopen\n    httplib_response = self._make_request(\nvenv/lib/python3.8/site-packages/urllib3/connectionpool.py:392: in _make_request\n    conn.request(method, url, **httplib_request_kw)\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/http/client.py:1230: in request\n    self._send_request(method, url, body, headers, encode_chunked)\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/http/client.py:1275: in _send_request\n    body = _encode(body, 'body')\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndata = '{\\n    \"userName\": \"13678394519\",\\n    \"nickName\": \"郑上荔\",\\n    \"actualAmt\": -20,\\n    \"couponAmt\": 2,\\n    \"remark\": \"fffffffffff\"\\n}'\nname = 'body'\n\n    def _encode(data, name='data'):\n        \"\"\"Call data.encode(\"latin-1\") but show a better error message.\"\"\"\n        try:\n            return data.encode(\"latin-1\")\n        except UnicodeEncodeError as err:\n>           raise UnicodeEncodeError(\n                err.encoding,\n                err.object,\n                err.start,\n                err.end,\n                \"%s (%.20r) is not valid Latin-1. Use %s.encode('utf-8') \"\n                \"if you want to send it encoded in UTF-8.\" %\n                (name.title(), data[err.start:err.end], name)) from None\nE           UnicodeEncodeError: 'latin-1' codec can't encode characters in position 50-52: Body ('郑上荔') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.\n\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/http/client.py:160: UnicodeEncodeError"}, "attachments": [{"name": "log", "source": "fe35dcf3-e989-4ef1-8804-d1d22deb334f-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "caseinfo", "value": "{'name': 'admin新增加客户--充值金额actualAmt为负数', 'request': {'method': 'post', 'path': '/api/admin/wallet/add', 'headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (HTML, like Gecko) \"\"Chrome/54.0.2840.99 Safari/537.36', 'deviceId': '1254', 'Content-Type': 'application/json', 'token': '$amintoken'}, 'params': {'userName': '$PhoneMain', 'nickName': '$updatenickName', 'actualAmt': -20, 'couponAmt': 2, 'remark': 'fffffffffff'}, 'validate': [{'equal_to': {'$.code': 400}}]}}"}], "start": 1652328259553, "stop": 1652328259563, "uuid": "da1ca3a3-b3e1-4ce0-889c-0763fb70df2f", "historyId": "7ce0341f25c359861b865912c8b56e7e", "testCaseId": "da7368b930580d1b1344abe6b7fc9774", "fullName": "test_case.test_admin.admin_wallet_add_test#test_admin_wallet_add", "labels": [{"name": "story", "value": "admin新增客户"}, {"name": "parentSuite", "value": "test_case.test_admin"}, {"name": "suite", "value": "admin_wallet_add_test"}, {"name": "host", "value": "xudeMac-mini.local"}, {"name": "thread", "value": "52177-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_case.test_admin.admin_wallet_add_test"}]}