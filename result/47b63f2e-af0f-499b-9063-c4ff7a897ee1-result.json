{"name": "test_almightycode[caseinfo0]", "status": "broken", "statusDetails": {"message": "NameError: name 'work' is not defined", "trace": "self = <test_case.login_test.Testwork object at 0x1090cf430>\ncaseinfo = {'name': '万能验证码', 'request': {'headers': {'Content-Type': 'application/json', 'User-Agent': 'Mozilla/5.0 (Windows NT 1...840.99 Safari/537.36', 'deviceId': '1254'}, 'method': 'get', 'params': 'none', 'path': '/api/admin/get/almighty/code'}}\n\n    @allure.story('验证码接口')\n    @pytest.mark.parametrize(\"caseinfo\", YamlUtil().yaml_read(\"data\", \"almightycode.yaml\"))\n    def test_almightycode(self, caseinfo):\n        # 获取ymal\n        value = assignment_yamlparams(caseinfo['request'])\n        url = URL + value['path']\n        response = sendRequest(value['method'], url, value['params'], value['headers'])\n>       almighty_code = YamlUtil().yaml_write({\"almighty_code\": response[\"data\"]}, \"data\", \"extract.yaml\")\n\ntest_case/login_test.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tools.yaml_util.YamlUtil object at 0x1090cfdc0>\ndata = {'almighty_code': '776420'}, fileDir = 'data', fileName = 'extract.yaml'\n\n    def yaml_write(self,data, fileDir, fileName):\n        writework = f\"{str(Path(__file__).parent.parent)}\" + \"/\" + fileDir + \"/\" + fileName\n>       logger.info(\"加载 {} 文件......\".format(work))\nE       NameError: name 'work' is not defined\n\ntools/yaml_util.py:34: NameError"}, "attachments": [{"name": "log", "source": "e8654204-834f-4214-a3bc-92c34e945cce-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "caseinfo", "value": "{'name': '万能验证码', 'request': {'method': 'get', 'path': '/api/admin/get/almighty/code', 'headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (HTML, like Gecko) \"\"Chrome/54.0.2840.99 Safari/537.36', 'deviceId': '1254', 'Content-Type': 'application/json'}, 'params': 'none'}}"}], "start": 1651818459272, "stop": 1651818460641, "uuid": "a0186cac-2990-48fa-8268-9d27eeca9119", "historyId": "6e7af39bb606afac8bf5087e4fe0bc35", "testCaseId": "f0f21a59f56785ca69b364ca5a72b296", "fullName": "test_case.login_test.Testwork#test_almightycode", "labels": [{"name": "story", "value": "验证码接口"}, {"name": "parentSuite", "value": "test_case"}, {"name": "suite", "value": "login_test"}, {"name": "subSuite", "value": "Testwork"}, {"name": "host", "value": "xudeMac-mini.local"}, {"name": "thread", "value": "16450-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_case.login_test"}]}